{
  "//": "====================================================================",
  "//": " PRODUCTION CONFIGURATION",
  "//": " Secrets loaded from Azure Key Vault (configured in Program.cs)",
  "//": " Token replacement #{...}# used as fallback for CI/CD pipelines",
  "//": "====================================================================",

  "KeyVault": {
    "Url": "#{KeyVault:Url}#",
    "ManagedIdentityClientId": "#{KeyVault:ManagedIdentityClientId}#"
  },

  "ConnectionStrings": {
    "DefaultConnection": "#{ConnectionStrings:DefaultConnection}#",
    "RedisConnection": "#{ConnectionStrings:RedisConnection}#",
    "HangfireConnection": "#{ConnectionStrings:HangfireConnection}#"
  },
  "JwtSettings": {
    "SecretKey": "#{JwtSettings:SecretKey}#",
    "Issuer": "EasyBuy.API.Production",
    "Audience": "EasyBuy.Client.Production",
    "AccessTokenExpiryMinutes": 30,
    "RefreshTokenExpiryDays": 7
  },
  "AzureStorage": {
    "ConnectionString": "#{AzureStorage:ConnectionString}#",
    "BlobCdnUrl": "#{AzureStorage:BlobCdnUrl}#"
  },
  "Cors": {
    "AllowedOrigins": [
      "https://easybuy.com",
      "https://www.easybuy.com",
      "https://admin.easybuy.com"
    ]
  },
  "RateLimiting": {
    "GeneralRules": [
      {
        "Endpoint": "*",
        "Period": "1m",
        "Limit": 60
      },
      {
        "Endpoint": "*",
        "Period": "1h",
        "Limit": 500
      }
    ]
  },
  "EmailSettings": {
    "SendGridApiKey": "#{EmailSettings:SendGridApiKey}#",
    "FromEmail": "support@easybuy.com",
    "FromName": "EasyBuy"
  },
  "SmsSettings": {
    "TwilioAccountSid": "#{SmsSettings:TwilioAccountSid}#",
    "TwilioAuthToken": "#{SmsSettings:TwilioAuthToken}#",
    "TwilioPhoneNumber": "#{SmsSettings:TwilioPhoneNumber}#",
    "EnableSms": true
  },
  "PaymentSettings": {
    "Stripe": {
      "PublishableKey": "#{PaymentSettings:Stripe:PublishableKey}#",
      "SecretKey": "#{PaymentSettings:Stripe:SecretKey}#",
      "WebhookSecret": "#{PaymentSettings:Stripe:WebhookSecret}#",
      "EnableTestMode": false
    },
    "PayPal": {
      "ClientId": "#{PaymentSettings:PayPal:ClientId}#",
      "ClientSecret": "#{PaymentSettings:PayPal:ClientSecret}#",
      "Mode": "live"
    }
  },
  "CacheSettings": {
    "EnableDistributedCache": true,
    "EnableResponseCaching": true
  },
  "Serilog": {
    "MinimumLevel": {
      "Default": "Warning",
      "Override": {
        "Microsoft": "Warning",
        "Microsoft.AspNetCore": "Error",
        "Microsoft.EntityFrameworkCore": "Error",
        "System": "Error"
      }
    },
    "WriteTo": [
      {
        "Name": "Console"
      },
      {
        "Name": "File",
        "Args": {
          "path": "/var/log/easybuy/easybuy-.log",
          "rollingInterval": "Day",
          "retainedFileCountLimit": 90
        }
      },
      {
        "Name": "Seq",
        "Args": {
          "serverUrl": "#{Serilog:SeqServerUrl}#",
          "apiKey": "#{Serilog:SeqApiKey}#"
        }
      }
    ],
    "Properties": {
      "Environment": "Production"
    }
  },
  "FeatureFlags": {
    "EnableSwagger": false,
    "EnableHangfire": true,
    "EnableEmailNotifications": true,
    "EnableSmsNotifications": true,
    "EnableTwoFactorAuth": true
  },
  "RabbitMQ": {
    "Host": "#{RabbitMQ:Host}#",
    "Port": 5672,
    "Username": "#{RabbitMQ:Username}#",
    "Password": "#{RabbitMQ:Password}#",
    "EnableRabbitMQ": true
  },
  "SecurityHeaders": {
    "EnableHsts": true,
    "HstsMaxAge": 31536000,
    "EnableXContentTypeOptions": true,
    "EnableXFrameOptions": true,
    "XFrameOptionsValue": "SAMEORIGIN",
    "EnableXXssProtection": true,
    "EnableReferrerPolicy": true,
    "ReferrerPolicyValue": "strict-origin-when-cross-origin",
    "ContentSecurityPolicy": "default-src 'self'; img-src 'self' data: https://cdn.easybuy.com; script-src 'self'; style-src 'self'; connect-src 'self' https://api.easybuy.com;"
  },
  "Logging": {
    "LogLevel": {
      "Default": "Warning",
      "Microsoft.AspNetCore": "Error",
      "Microsoft.EntityFrameworkCore": "Error"
    }
  }
}
